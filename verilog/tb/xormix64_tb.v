// Copyright (c) 2020-2021 Maarten Baert <info@maartenbaert.be>
// Available under the MIT License - see LICENSE.txt for details.

// This file was generated by `generate_verilog.py`.

`timescale 1ns/1ps

module xormix64_tb;
    
    // configuration
    localparam streams = 4;
    localparam results = 100;
    localparam [63 : 0] seed_x =
        64'h91eb2642dd235c45;
    localparam [64 * streams - 1 : 0] seed_y =
        256'h76151b36c1b25d925fe5385d7b0d285ce1fb2a562c946e0ee02c9cdec24e8b50;
    
    // reference result
    localparam [64 * streams * results - 1 : 0] ref_result = {
        256'he17f162e014559465ab2bdd60b5ee05edccd049f0b07da87b3313f1ce0fd8e9a,
        256'h01790a8cfd247b3160cc786d8f71e7f89e65043b8ecbc27b5ef100162f12f946,
        256'hd3bbada9bdba34f3214907f617624372d4bed7cb38f3b3110cbd65996384338c,
        256'hcaa0bd50800062a88e1e794a36429a7985dd7ede6c3537fd348fb3c664bb21d9,
        256'h0eb0ce98a96064428b34fafce63007db685f64bbd5c18979d1a51437a1d65330,
        256'h2e549659edb88e260cc78757d61ea347898c3a1fe80501700992c4a31e21b496,
        256'hea8659b46ef95e187e76339ddb351168c1fe5e32bcae9232109465a05fd454a0,
        256'hdf49ac65d4e648ec3f3981f0c113504753130adf7628aabc18860859140fed18,
        256'h453a40765e0e6efe146f281d29226fbf4a67e56160c98353c99c8bdfa72dadee,
        256'h46e16ccc9876d35646541d60bd29d1d93b698c83000754e7585ce405db6de0af,
        256'h93c443370d87232d6f85eacffd8aacdea95913663fdd1716ef25110b36078d56,
        256'hee78c4d92722fc7debce29ead5b71abdd92f3065567d9c559c6b76836c78252e,
        256'h6397c7539511be60d397303cdbb6d6e0ca57e60ad6a4fa5460242b0c8be0f68d,
        256'h228f6130d4ef03ab0908ad07d2058f520346d201ce0cf7ccb1c18cc58a568a57,
        256'h060bca70bff395235a40b835439de2efbb1e43f0f6339cd00b39a7c6570c6b72,
        256'hbc3018f32ee8421d0ed9d4b0253060010f6b7c815a9d9e9da64a8c74e0c88cf1,
        256'h00f47259e18c553126f2d991928c7227b31b298f7cb2b9361e76567b70c4f2d7,
        256'h159f76edd72742f2f9ff50d40314680643adc51f355caaad152be89898cf3394,
        256'hf2271ff2e2eeb246267c983e0848289a9440ff035c0fca63faac9a782704e832,
        256'h1c03eda2a5d051194d81f3a157bcec459a302cbe7af193ccb9a4af5b1fffa150,
        256'h4d2df2094f70deaf731f0c79eca6320075373f4d584ccb576a43c1e84ad789ee,
        256'h2679d6d3558eb761133cfd934b3fe69f49d58425249c84d889be114afe847078,
        256'hbd8d852b2008fd7f4ee4961755925c4ef409b50fbfc8dfd3bfc16c8d003edc86,
        256'h7a5980bae16ea77ed7774fae770dbf7e0ed563f17a87af5a424b57895f3bbd94,
        256'hcb2b0862b0482af45aec7919ee5e1c809c84424f312f591a684bca05de44eee0,
        256'h36d92b6d186a53472f0c3a321a0c49f8ea343ca766121ab9c654d65aecd750bc,
        256'h1774d258be5b2608fa390f818a0210c890e4150b06d02a8c7527f8160e1e9805,
        256'h8edafd98f8e833ae9b8770123d27c8436124330669261f1199e65962b6e831e6,
        256'h2793a24e6dc95cd4d4acb1d2f670085657372f1aebdf819ad2290309acf6edf8,
        256'h2e63aa6cc6b693a783483c86a6dc89895d05bd9bb4ce675fc7825c583c984298,
        256'hadd01153700af22b6f0caf93908177480cb314a56352300665cae8fea438a5ec,
        256'hd996432106a156d4550290b2184f9fc740ebc2ebbedcf26a264e5616bf376f32,
        256'h4b4b5fe7c8e5a90251a65ee6ddb2cc8bf4707a85601220f260d4daadaa96c1f7,
        256'h875d604b29993bcf53db247fa72dfdabbc491cb72249fb1bf4e4f59087cc7d53,
        256'h9ecb404930b63592e047649eaeed6d59171fec374d722efa214519b517b9d42b,
        256'hf3e6f429acaa12a53ccd3b06019657df09d8fdad9c10ca9eecee17f1f9627893,
        256'h4c8cde94a046c53791890220421e4c5faeb02f0d497ae32f03d05577d12af514,
        256'h51afbf7d4c5f152fffd552822fa81f99c2d44a4f9931559b3a66dfd0deb74c51,
        256'ha057c321e758660ef0750ef0c9f06f32341a6e97deac55d6315ed5686b332d11,
        256'heabdba893276efea4c26f62097057e2b44e0af5ba81cc755354dc74010bec162,
        256'heca6f58225519f8856731f422781ca2e6a0c451f37f14713f990c2efb417f29c,
        256'haa9f1321480f9ed8a6141986ed9b7ebd8d61f19fc3471f5a4321888d48ad1fd8,
        256'h21857a740be7722dc80b83bdd1f08ba8905494a0441b800a625990fed3e681ef,
        256'h0f9bcc7752988971dedc044eaec9d8b935b8553bedeb1eefcfd58fed77306ccf,
        256'h7ec6ac0b4d45c00dd5160f93a09f895b52f83f996a1775ce9406173c18723234,
        256'hc6638c1480fe6dea2329649b34a0bf6a1d4a40c57197d9a3776b55225fa2c6ab,
        256'hd39d3585930aeb78efcbad9460e284c1aaee000c411e45d1577dd76345c9589f,
        256'he27c5878fd62cd24a786002f3ea9d678783b011c29f4ef4a171a22aa835f1a41,
        256'hff7490f839aa5ce6bd0e9559df559abca5a93b69b9345c5c72f43cffbe10db51,
        256'h7cb6b6ca2b8ce247193c45a28044d9e75939511526be5aa36750b493841c7885,
        256'hc865b27377e40661d957d1d5d6496ea0211abcddd38e4c4d9d0a039476effd29,
        256'h5c7e911ba61eff000bf367eb357edc4b41ee132bb0a6e6587f2349070599ded1,
        256'h48a9e39bdffd730af78612e7d2eb427c0803cf15ab1fdf6bde66346de1994d79,
        256'h6baca6516566e85362f9f8ba23ef2ec26cdbc03b4ab6ac7cd0b583857b8a696d,
        256'hb60f854a454cab5bd94dfbfcbba7af087b90d8a7d6f5905d8e3c9e0356522beb,
        256'h7927a74ff1e45873f8e51eff63b040abe5fad5ea1804cf207201050cd848112d,
        256'h07df1f18ad5c3b2febb9c5fe0eb20e03abc287ab05abdbf15ddb42f4b4c2d528,
        256'h52162f49ad57b9eb6ded1eed60f1fcf7e9290e707870cb077e4900b6ece6890e,
        256'h62965ecc7532bec51a2cb9255c1504818e642808a7386334bc9c5f3e4d412dce,
        256'h5729d77cd3c74701bcf04219b4f88d72cdedfa3ee36b2fbef700096b551abfbc,
        256'h692782593edea6b3d4ed6855ea34eb9e397feb0dc60f1bffca2b7014e380dbe4,
        256'hfe026232904ed1258df1f90957fb14005d097187eab90ba2e1162b23cdbf4640,
        256'hda9cbea7fc3694f3781bd0a36bd74490fdd2f4da2e59d27064e120c559976760,
        256'hbba47b93389d9d33b423a5c10bd2b166fb982377bb6f655cd1e80bb723cff087,
        256'h1df8b262d1c2950cd11585373297a7eb70c8a456903c872e01f776788c478d45,
        256'h02469ee6454d9efcc78fe3a6b21a6c8c1efa4ce8317c3f1141eb80e608ce8567,
        256'h0b36d27498c2374efe845f83f72fa81a16ee9755db18b6cf941d4d083251b464,
        256'hd4d9f34dfd0c45091665a0cdf0e290ed3b91c80f23123273e88f5045ee3f442e,
        256'h51e8ea4d7420721275e932399a0cc3f52f962e2f7933c90f8c2cfd32231e7f8e,
        256'h42de317bebdde347759ec8a49f142447c3cf4448abbc83f4210ea8e03c72f5b8,
        256'hc47d42ededca1013100eeeb7fdb92148786033c592c10d4b7546aecacdac9002,
        256'h304c48c8a24153475ab456533a0aa86a50949b47934748060141b5d35b80f430,
        256'h68de25a1a6e9edf5f2411fa205c8ef39de5a7b657409a2acba96501f3bbfe54f,
        256'hdbf5f77a26bc94072aa96d65369e6fe1ecb34f6b9a2065003018289eaaf5afb7,
        256'h99ce50117150d69e537c472da767f56829fdbbfa1ba10fc84ef76bd38b4ce6a2,
        256'h05258c4a5f95bf995b139743ebb9f6bfded444d632989be2fe5f1848a9c22bc7,
        256'hc7f80275311c24c2c9fa1fc9ab316d0217ed87bcc99d801ef79909d8aa589817,
        256'hfdd7c0a023a37bbd772d51759553e03b8db6d4e0f1e67dd0666dd8ed27c01c07,
        256'h73a5d1f13a7d9d45102de000e67e039c4e387b35b60f9284dcfadb0c2b3661a0,
        256'hb31f7d12afbffc06c89a4e45b00f1a399d127ba8a077f332823084607fa68d96,
        256'ha69643bcab3b43ca8d1afdf7d509419c7270a60fa69b7fc92f00728010a214e2,
        256'h6115e04b79ec85c5ab235d8e1fcd3f5faebefe03fb4c3880cd801ff67511a763,
        256'hfff50d19b8a2aa576a8cefb42123afc29e862566bf5d376c5477da2759facfe4,
        256'h462ebcb9b7b4714dfa8f1bc3d775d485e1be5e4e0c79313a799abed790af3970,
        256'hd95eaeecaa7833c6dba6c3caadb4e2dbfed0467b1358239aff7f71dfa464defd,
        256'h6b3caf0e314c054fa4d4217fd605e3262116fd456787a1d49e1ca1c3846e5ef9,
        256'h9fadc80975ad9cade9df284c9f390fc086d38dae6320470b867862cf68965539,
        256'h5351bb04cd89a363acf2fae68fa0eadd0951d3dae6c2ea89fca0322824a468cd,
        256'hcff445a8ebc8e72daf634072a6da2d69609ddd9a7243986c410da68b0b6b3a48,
        256'h918db42f057906a7a8b95fc68f65ae02fea97c7897314ee835d9f50ce49973b6,
        256'h40305375a4ecbc98d2b76c3bd2d33a30f9ba46dae25505e338be7ed9537c6dd4,
        256'h20be83a48e55a429e953d1150c6d2df3eaedc2c462f5014f38699c328ce6ad7d,
        256'h45e10a0aaa07a16c510feef2d758b258d94d13fe2d7cea56f81c5d17754cdadf,
        256'h2b1734e9e0169184efb407a4fa74a50c810b13c1c8727572509bd376fd0cf594,
        256'hcf1521f53afaa9e6b94363df6e095facd8b161554de2c1702c1c77be18f3ea67,
        256'hcb418d6f81c092abba5bffc5c79ce508146210100f8b141a55c92c5d23876a98,
        256'he767915c3bd0739a5b78dd94922bd38b3914d22b0ff7aa7c2a8697491d569a24,
        256'h536a7ab5fc92c206ece7d74d471469a40550f30646e1307d17cf38f26e0b3c7d,
        256'h06059f171acf0136b7dd4058c006162e232ff81497a486174d50dcc76171dd41,
        256'h76151b36c1b25d925fe5385d7b0d285ce1fb2a562c946e0ee02c9cdec24e8b50
    };
    
    // DUT signals
    reg clk = 0;
    reg reset;
    reg enable;
    wire [64 * streams - 1 : 0] result;
    
    // flag to stop simulation
    integer run = 1;
    
    // DUT
    xormix64 #(
        .streams(streams)
    ) inst_xormix (
        .clk(clk),
        .reset(reset),
        .seed_x(seed_x),
        .seed_y(seed_y),
        .enable(enable),
        .result(result)
    );
    
    // clock process
    initial begin
        while (run == 1) begin
            clk = 1'b1;
            #5;
            clk = 1'b0;
            #5;
        end
    end
    
    integer i;
    
    // input/output process
    initial begin
        @(posedge clk);
        reset <= 1'b1;
        enable <= 1'b0;
        @(posedge clk);
        reset <= 1'b0;
        enable <= 1'b1;
        for (i = 0; i < results; i = i + 1) begin
            @(posedge clk);
            if (result !== ref_result[64 * streams * i +: 64 * streams])
                $display("Incorrect result");
        end
        run <= 0;
    end
    
endmodule

